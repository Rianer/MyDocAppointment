“
UF:\Documents\faculta\MyDocAppointment\MyDocAppointment.Infrastructure\AppDbContext.cs
	namespace 	
MyDocAppointment
 
. 
Infrastructure )
{ 
public		 

class		 
AppDbContext		 
:		 
	DbContext		 (
{

 
public 
AppDbContext 
( 
DbContextOptions ,
<, -
AppDbContext- 9
>9 :
options; B
)B C
:D E
baseF J
(J K
optionsK R
)R S
{T U
}V W
public 
DbSet 
< 
Drug 
> 
Drugs  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
DbSet 
< 
Doctor 
> 
Doctors $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
DbSet 
< 
Patient 
> 
Patients &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
DbSet 
< 
Appointment  
>  !
Appointments" .
{/ 0
get1 4
;4 5
set6 9
;9 :
}; <
public 
DbSet 
< 
Payment 
> 
Payments &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
DbSet 
< 
	DrugStock 
> 

DrugStocks  *
{+ ,
get- 0
;0 1
set2 5
;5 6
}7 8
	protected 
override 
void 
OnModelCreating  /
(/ 0
ModelBuilder0 <
modelBuilder= I
)I J
{ 	
modelBuilder 
. 
ApplyConfiguration +
(+ ,
new, /
DoctorConfiguration0 C
(C D
)D E
)E F
;F G
modelBuilder 
. 
ApplyConfiguration +
(+ ,
new, / 
PatientConfiguration0 D
(D E
)E F
)F G
;G H
modelBuilder 
. 
ApplyConfiguration +
(+ ,
new, /
DrugConfiguration0 A
(A B
)B C
)C D
;D E
modelBuilder 
. 
ApplyConfiguration +
(+ ,
new, /$
AppointmentConfiguration0 H
(H I
)I J
)J K
;K L
modelBuilder 
. 
ApplyConfiguration +
(+ ,
new, / 
PaymentConfiguration0 D
(D E
)E F
)F G
;G H
modelBuilder 
. 
ApplyConfiguration +
(+ ,
new, /"
DrugStockConfiguration0 F
(F G
)G H
)H I
;I J
base 
. 
OnModelCreating  
(  !
modelBuilder! -
)- .
;. /
} 	
} 
} °
pF:\Documents\faculta\MyDocAppointment\MyDocAppointment.Infrastructure\Configurations\AppointmentConfiguration.cs
	namespace 	
MyDocAppointment
 
. 
Infrastructure )
.) *
Configurations* 8
{ 
internal		 
class		 $
AppointmentConfiguration		 +
:		, -$
IEntityTypeConfiguration		. F
<		F G
Appointment		G R
>		R S
{

 
public 
void 
	Configure 
( 
EntityTypeBuilder /
</ 0
Appointment0 ;
>; <
builder= D
)D E
{ 	
builder 
. 
HasKey 
( 
a 
=> 
new  #
{$ %
a& '
.' (
Id( *
,* +
a, -
.- .
DoctorID. 6
,6 7
a8 9
.9 :
	PatientID: C
}D E
)E F
;F G
builder 
. 
HasOne 
( 
a 
=> 
a  !
.! "
Doctor" (
)( )
.) *
WithMany* 2
(2 3
d3 4
=>5 7
d8 9
.9 :
Appointments: F
)F G
;G H
builder 
. 
HasOne 
( 
a 
=> 
a  !
.! "
Patient" )
)) *
.* +
WithMany+ 3
(3 4
p4 5
=>6 8
p9 :
.: ;
Appointments; G
)G H
;H I
builder 
. 
Property 
( 
a 
=> !
a" #
.# $
Specialization$ 2
)2 3
. 
HasConversion 
( 
new "!
EnumToStringConverter# 8
<8 9
Specialization9 G
>G H
(H I
)I J
)J K
;K L
builder 
. 
Property 
( 
a 
=> !
a" #
.# $
AppointmentTime$ 3
)3 4
;4 5
builder 
. 
HasOne 
( 
a 
=> 
a  !
.! "
Payment" )
)) *
;* +
builder 
. 
Property 
( 
a 
=> !
a" #
.# $
Location$ ,
), -
;- .
} 	
} 
} †
eF:\Documents\faculta\MyDocAppointment\MyDocAppointment.Infrastructure\Configurations\Configuration.cs
	namespace 	
MyDocAppointment
 
. 
Infrastructure )
.) *
Configurations* 8
{ 
public 

static 
class 
Configuration %
{ 
public 
static 
IServiceCollection (
AddDatabase) 4
(4 5
this5 9
IServiceCollection: L
servicesM U
,U V
stringW ]
connectionString^ n
)n o
{		 	
services

 
.

 
AddDbContext

 !
<

! "
AppDbContext

" .
>

. /
(

/ 0
options

0 7
=>

8 :
options

; B
.

B C
UseSqlServer

C O
(

O P
connectionString

P `
)

` a
)

a b
;

b c
return 
services 
; 
} 	
} 
} º
kF:\Documents\faculta\MyDocAppointment\MyDocAppointment.Infrastructure\Configurations\DoctorConfiguration.cs
	namespace 	
MyDocAppointment
 
. 
Infrastructure )
.) *
Configurations* 8
{ 
internal		 
class		 
DoctorConfiguration		 &
:		& '$
IEntityTypeConfiguration		( @
<		@ A
Doctor		A G
>		G H
{

 
public 
void 
	Configure 
( 
EntityTypeBuilder /
</ 0
Doctor0 6
>6 7
builder8 ?
)? @
{ 	
builder 
. 
HasKey 
( 
d 
=> 
d 
.  
Id  "
)" #
;# $
builder 
. 
Property 
( 
d 
=> !
d" #
.# $
Name$ (
)( )
;) *
builder 
. 
Property 
( 
d 
=> !
d" #
.# $
Surname$ +
)+ ,
;, -
builder 
. 
Property 
( 
d 
=> !
d" #
.# $
Age$ '
)' (
;( )
builder 
. 
Property 
( 
d 
=> !
d" #
.# $
Gender$ *
)* +
. 
HasConversion 
( 
new "!
EnumToStringConverter# 8
<8 9
PersonGender9 E
>E F
(F G
)G H
)H I
;I J
builder 
. 
Property 
( 
d 
=> !
d" #
.# $
EmailAddress$ 0
)0 1
;1 2
builder 
. 
HasMany 
( 
d 
=>  
d! "
." #
Appointments# /
)/ 0
.0 1
WithOne1 8
(8 9
a9 :
=>; =
a> ?
.? @
Doctor@ F
)F G
;G H
builder 
. 
Property 
( 
d 
=>  
d! "
." #

Speciality# -
)- .
. 
HasConversion 
( 
new "!
EnumToStringConverter# 8
<8 9
Specialization9 G
>G H
(H I
)I J
)J K
;K L
} 	
} 
} ï
iF:\Documents\faculta\MyDocAppointment\MyDocAppointment.Infrastructure\Configurations\DrugConfiguration.cs
	namespace 	
MyDocAppointment
 
. 
Infrastructure )
.) *
Configurations* 8
{ 
internal 
class 
DrugConfiguration $
:% &$
IEntityTypeConfiguration' ?
<? @
Drug@ D
>D E
{ 
public		 
void		 
	Configure		 
(		 
EntityTypeBuilder		 /
<		/ 0
Drug		0 4
>		4 5
builder		6 =
)		= >
{

 	
builder 
. 
HasKey 
( 
d 
=> 
d  !
.! "
Id" $
)$ %
;% &
builder 
. 
Property 
( 
d 
=> !
d" #
.# $
Name$ (
)( )
;) *
builder 
. 
Property 
( 
d 
=> !
d" #
.# $
Vendor$ *
)* +
;+ ,
builder 
. 
Property 
( 
d 
=> !
d" #
.# $
Category$ ,
), -
;- .
builder 
. 
Property 
( 
d 
=> !
d" #
.# $
Price$ )
)) *
;* +
builder 
. 
HasMany 
( 
d 
=>  
d! "
." #

DrugStocks# -
)- .
.. /
WithOne/ 6
(6 7
ds7 9
=>: <
ds= ?
.? @
Item@ D
)D E
;E F
} 	
} 
} ¿
nF:\Documents\faculta\MyDocAppointment\MyDocAppointment.Infrastructure\Configurations\DrugStockConfiguration.cs
	namespace 	
MyDocAppointment
 
. 
Infrastructure )
.) *
Configurations* 8
{ 
internal 
class "
DrugStockConfiguration )
:* +$
IEntityTypeConfiguration, D
<D E
	DrugStockE N
>N O
{ 
public		 
void		 
	Configure		 
(		 
EntityTypeBuilder		 /
<		/ 0
	DrugStock		0 9
>		9 :
builder		; B
)		B C
{

 	
builder 
. 
HasKey 
( 
d 
=> 
d  !
.! "
Id" $
)$ %
;% &
builder 
. 
HasOne 
( 
d 
=> 
d  !
.! "
Item" &
)& '
.' (
WithMany( 0
(0 1
d1 2
=>3 5
d6 7
.7 8

DrugStocks8 B
)B C
;C D
builder 
. 
Property 
( 
d 
=> !
d" #
.# $
Quantity$ ,
), -
;- .
builder 
. 
Property 
( 
d 
=> !
d" #
.# $
IsRestricted$ 0
)0 1
;1 2
} 	
} 
} Î
lF:\Documents\faculta\MyDocAppointment\MyDocAppointment.Infrastructure\Configurations\PatientConfiguration.cs
	namespace 	
MyDocAppointment
 
. 
Infrastructure )
.) *
Configurations* 8
{ 
internal		 
class		  
PatientConfiguration		 '
:		( )$
IEntityTypeConfiguration		* B
<		B C
Patient		C J
>		J K
{

 
public 
void 
	Configure 
( 
EntityTypeBuilder /
</ 0
Patient0 7
>7 8
builder9 @
)@ A
{ 	
builder 
. 
HasKey 
( 
p 
=> 
p  !
.! "
Id" $
)$ %
;% &
builder 
. 
Property 
( 
p 
=> !
p" #
.# $
Name$ (
)( )
;) *
builder 
. 
Property 
( 
p 
=> !
p" #
.# $
Surname$ +
)+ ,
;, -
builder 
. 
Property 
( 
p 
=> !
p" #
.# $
Age$ '
)' (
;( )
builder 
. 
Property 
( 
p 
=> !
p" #
.# $
Gender$ *
)* +
. 
HasConversion 
( 
new "!
EnumToStringConverter# 8
<8 9
PersonGender9 E
>E F
(F G
)G H
)H I
;I J
builder 
. 
Property 
( 
p 
=> !
p" #
.# $
EmailAddress$ 0
)0 1
;1 2
builder 
. 
HasMany 
( 
d 
=>  
d! "
." #
Appointments# /
)/ 0
.0 1
WithOne1 8
(8 9
a9 :
=>; =
a> ?
.? @
Patient@ G
)G H
;H I
builder 
. 
HasMany 
( 
p 
=>  
p! "
." #
	Diagnosis# ,
), -
;- .
} 	
} 
} Ù
lF:\Documents\faculta\MyDocAppointment\MyDocAppointment.Infrastructure\Configurations\PaymentConfiguration.cs
	namespace 	
MyDocAppointment
 
. 
Infrastructure )
.) *
Configurations* 8
{		 
internal

 
class

  
PaymentConfiguration

 '
:

( )$
IEntityTypeConfiguration

* B
<

B C
Payment

C J
>

J K
{ 
public 
void 
	Configure 
( 
EntityTypeBuilder /
</ 0
Payment0 7
>7 8
builder9 @
)@ A
{ 	
builder 
. 
HasKey 
( 
d 
=> 
d  !
.! "
Id" $
)$ %
;% &
builder 
. 
Property 
( 
d 
=> !
d" #
.# $
Amount$ *
)* +
;+ ,
builder 
. 
Property 
( 
d 
=> !
d" #
.# $
PaymentMethod$ 1
)1 2
. 
HasConversion 
( 
new "!
EnumToStringConverter# 8
<8 9
PaymentMethod9 F
>F G
(G H
)H I
)I J
;J K
builder 
. 
Property 
( 
d 
=> !
d" #
.# $
DueDate$ +
)+ ,
;, -
builder 
. 
Property 
( 
d 
=> !
d" #
.# $
EmissionDate$ 0
)0 1
;1 2
builder 
. 
Property 
( 
d 
=> !
d" #
.# $
AcquittedDate$ 1
)1 2
;2 3
} 	
} 
} Ø
ZF:\Documents\faculta\MyDocAppointment\MyDocAppointment.Infrastructure\ConfigureServices.cs
	namespace 	
MyDocAppointment
 
. 
Infrastructure )
{ 
public		 

static		 
class		 
ConfigureServices		 )
{

 
public 
static 
IServiceCollection ($
AddInfrastrutureServices) A
( 
this 
IServiceCollection $
services% -
,- .
IConfiguration/ =
configuration> K
)K L
{ 	
services 
. 
	AddScoped 
< 
IDoctorsRepository 1
,1 2
DoctorsRepository3 D
>D E
(E F
)F G
;G H
services 
. 
	AddScoped 
< 
IDrugsRepository /
,/ 0
DrugsRepository1 @
>@ A
(A B
)B C
;C D
services 
. 
	AddScoped 
< 
IDoctorsRepository 1
,1 2
DoctorsRepository3 D
>D E
(E F
)F G
;G H
services 
. 
	AddScoped 
< 
IPatientsRepository 2
,2 3
PatientsRepository4 F
>F G
(G H
)H I
;I J
services 
. 
	AddScoped 
< #
IAppointmentsRepository 6
,6 7"
AppointmentsRepository8 N
>N O
(O P
)P Q
;Q R
services 
. 
	AddScoped 
< !
IDrugStocksRepository 4
,4 5 
DrugStocksRepository6 J
>J K
(K L
)L M
;M N
services 
. 
AddDbContext 
< 
AppDbContext )
>) *
( 
m 
=> 
m 
. 
UseSqlServer $
($ %
configuration !
.! "
GetConnectionString" 5
(5 6
$str6 H
)H I
)I J
,J K
ServiceLifetime #
.# $
	Singleton$ -
)- .
;. /
return 
services 
; 
} 	
} 
} Ñ∏
qF:\Documents\faculta\MyDocAppointment\MyDocAppointment.Infrastructure\Migrations\20221127131857_FirstMigration.cs
	namespace 	
MyDocAppointment
 
. 
Infrastructure )
.) *

Migrations* 4
{ 
public 

partial 
class 
FirstMigration '
:( )
	Migration* 3
{		 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str 
,  
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
Guid& *
>* +
(+ ,
type, 0
:0 1
$str2 D
,D E
nullableF N
:N O
falseP U
)U V
,V W

Speciality 
=  
table! &
.& '
Column' -
<- .
string. 4
>4 5
(5 6
type6 :
:: ;
$str< K
,K L
nullableM U
:U V
falseW \
)\ ]
,] ^
Name 
= 
table  
.  !
Column! '
<' (
string( .
>. /
(/ 0
type0 4
:4 5
$str6 E
,E F
nullableG O
:O P
falseQ V
)V W
,W X
Surname 
= 
table #
.# $
Column$ *
<* +
string+ 1
>1 2
(2 3
type3 7
:7 8
$str9 H
,H I
nullableJ R
:R S
falseT Y
)Y Z
,Z [
Age 
= 
table 
.  
Column  &
<& '
int' *
>* +
(+ ,
type, 0
:0 1
$str2 7
,7 8
nullable9 A
:A B
falseC H
)H I
,I J
Gender 
= 
table "
." #
Column# )
<) *
string* 0
>0 1
(1 2
type2 6
:6 7
$str8 G
,G H
nullableI Q
:Q R
falseS X
)X Y
,Y Z
EmailAddress  
=! "
table# (
.( )
Column) /
</ 0
string0 6
>6 7
(7 8
type8 <
:< =
$str> M
,M N
nullableO W
:W X
falseY ^
)^ _
} 
, 
constraints 
: 
table "
=># %
{ 
table 
. 

PrimaryKey $
($ %
$str% 1
,1 2
x3 4
=>5 7
x8 9
.9 :
Id: <
)< =
;= >
} 
) 
; 
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str 
, 
columns   
:   
table   
=>   !
new  " %
{!! 
Id"" 
="" 
table"" 
."" 
Column"" %
<""% &
Guid""& *
>""* +
(""+ ,
type"", 0
:""0 1
$str""2 D
,""D E
nullable""F N
:""N O
false""P U
)""U V
,""V W
Name## 
=## 
table##  
.##  !
Column##! '
<##' (
string##( .
>##. /
(##/ 0
type##0 4
:##4 5
$str##6 E
,##E F
nullable##G O
:##O P
false##Q V
)##V W
,##W X
Vendor$$ 
=$$ 
table$$ "
.$$" #
Column$$# )
<$$) *
string$$* 0
>$$0 1
($$1 2
type$$2 6
:$$6 7
$str$$8 G
,$$G H
nullable$$I Q
:$$Q R
false$$S X
)$$X Y
,$$Y Z
Category%% 
=%% 
table%% $
.%%$ %
Column%%% +
<%%+ ,
string%%, 2
>%%2 3
(%%3 4
type%%4 8
:%%8 9
$str%%: I
,%%I J
nullable%%K S
:%%S T
false%%U Z
)%%Z [
,%%[ \
Price&& 
=&& 
table&& !
.&&! "
Column&&" (
<&&( )
decimal&&) 0
>&&0 1
(&&1 2
type&&2 6
:&&6 7
$str&&8 G
,&&G H
nullable&&I Q
:&&Q R
false&&S X
)&&X Y
}'' 
,'' 
constraints(( 
:(( 
table(( "
=>((# %
{)) 
table** 
.** 

PrimaryKey** $
(**$ %
$str**% /
,**/ 0
x**1 2
=>**3 5
x**6 7
.**7 8
Id**8 :
)**: ;
;**; <
}++ 
)++ 
;++ 
migrationBuilder-- 
.-- 
CreateTable-- (
(--( )
name.. 
:.. 
$str..  
,..  !
columns// 
:// 
table// 
=>// !
new//" %
{00 
Id11 
=11 
table11 
.11 
Column11 %
<11% &
Guid11& *
>11* +
(11+ ,
type11, 0
:110 1
$str112 D
,11D E
nullable11F N
:11N O
false11P U
)11U V
,11V W
Name22 
=22 
table22  
.22  !
Column22! '
<22' (
string22( .
>22. /
(22/ 0
type220 4
:224 5
$str226 E
,22E F
nullable22G O
:22O P
false22Q V
)22V W
,22W X
Surname33 
=33 
table33 #
.33# $
Column33$ *
<33* +
string33+ 1
>331 2
(332 3
type333 7
:337 8
$str339 H
,33H I
nullable33J R
:33R S
false33T Y
)33Y Z
,33Z [
Age44 
=44 
table44 
.44  
Column44  &
<44& '
int44' *
>44* +
(44+ ,
type44, 0
:440 1
$str442 7
,447 8
nullable449 A
:44A B
false44C H
)44H I
,44I J
Gender55 
=55 
table55 "
.55" #
Column55# )
<55) *
string55* 0
>550 1
(551 2
type552 6
:556 7
$str558 G
,55G H
nullable55I Q
:55Q R
false55S X
)55X Y
,55Y Z
EmailAddress66  
=66! "
table66# (
.66( )
Column66) /
<66/ 0
string660 6
>666 7
(667 8
type668 <
:66< =
$str66> M
,66M N
nullable66O W
:66W X
false66Y ^
)66^ _
}77 
,77 
constraints88 
:88 
table88 "
=>88# %
{99 
table:: 
.:: 

PrimaryKey:: $
(::$ %
$str::% 2
,::2 3
x::4 5
=>::6 8
x::9 :
.::: ;
Id::; =
)::= >
;::> ?
};; 
);; 
;;; 
migrationBuilder== 
.== 
CreateTable== (
(==( )
name>> 
:>> 
$str>> 
,>>  
columns?? 
:?? 
table?? 
=>?? !
new??" %
{@@ 
IdAA 
=AA 
tableAA 
.AA 
ColumnAA %
<AA% &
GuidAA& *
>AA* +
(AA+ ,
typeAA, 0
:AA0 1
$strAA2 D
,AAD E
nullableAAF N
:AAN O
falseAAP U
)AAU V
,AAV W
AmountBB 
=BB 
tableBB "
.BB" #
ColumnBB# )
<BB) *
doubleBB* 0
>BB0 1
(BB1 2
typeBB2 6
:BB6 7
$strBB8 ?
,BB? @
nullableBBA I
:BBI J
falseBBK P
)BBP Q
,BBQ R
PaymentMethodCC !
=CC" #
tableCC$ )
.CC) *
ColumnCC* 0
<CC0 1
intCC1 4
>CC4 5
(CC5 6
typeCC6 :
:CC: ;
$strCC< A
,CCA B
nullableCCC K
:CCK L
falseCCM R
)CCR S
,CCS T
DueDateDD 
=DD 
tableDD #
.DD# $
ColumnDD$ *
<DD* +
DateTimeDD+ 3
>DD3 4
(DD4 5
typeDD5 9
:DD9 :
$strDD; F
,DDF G
nullableDDH P
:DDP Q
falseDDR W
)DDW X
,DDX Y
EmissionDateEE  
=EE! "
tableEE# (
.EE( )
ColumnEE) /
<EE/ 0
DateTimeEE0 8
>EE8 9
(EE9 :
typeEE: >
:EE> ?
$strEE@ K
,EEK L
nullableEEM U
:EEU V
falseEEW \
)EE\ ]
,EE] ^
AcquittedDateFF !
=FF" #
tableFF$ )
.FF) *
ColumnFF* 0
<FF0 1
DateTimeFF1 9
>FF9 :
(FF: ;
typeFF; ?
:FF? @
$strFFA L
,FFL M
nullableFFN V
:FFV W
falseFFX ]
)FF] ^
}GG 
,GG 
constraintsHH 
:HH 
tableHH "
=>HH# %
{II 
tableJJ 
.JJ 

PrimaryKeyJJ $
(JJ$ %
$strJJ% 1
,JJ1 2
xJJ3 4
=>JJ5 7
xJJ8 9
.JJ9 :
IdJJ: <
)JJ< =
;JJ= >
}KK 
)KK 
;KK 
migrationBuilderMM 
.MM 
CreateTableMM (
(MM( )
nameNN 
:NN 
$strNN !
,NN! "
columnsOO 
:OO 
tableOO 
=>OO !
newOO" %
{PP 
IdQQ 
=QQ 
tableQQ 
.QQ 
ColumnQQ %
<QQ% &
GuidQQ& *
>QQ* +
(QQ+ ,
typeQQ, 0
:QQ0 1
$strQQ2 D
,QQD E
nullableQQF N
:QQN O
falseQQP U
)QQU V
,QQV W
NameRR 
=RR 
tableRR  
.RR  !
ColumnRR! '
<RR' (
stringRR( .
>RR. /
(RR/ 0
typeRR0 4
:RR4 5
$strRR6 E
,RRE F
nullableRRG O
:RRO P
falseRRQ V
)RRV W
,RRW X
DescriptionSS 
=SS  !
tableSS" '
.SS' (
ColumnSS( .
<SS. /
stringSS/ 5
>SS5 6
(SS6 7
typeSS7 ;
:SS; <
$strSS= L
,SSL M
nullableSSN V
:SSV W
falseSSX ]
)SS] ^
,SS^ _
DiagnosisDateTT !
=TT" #
tableTT$ )
.TT) *
ColumnTT* 0
<TT0 1
DateTimeTT1 9
>TT9 :
(TT: ;
typeTT; ?
:TT? @
$strTTA L
,TTL M
nullableTTN V
:TTV W
falseTTX ]
)TT] ^
,TT^ _
UserIdUU 
=UU 
tableUU "
.UU" #
ColumnUU# )
<UU) *
GuidUU* .
>UU. /
(UU/ 0
typeUU0 4
:UU4 5
$strUU6 H
,UUH I
nullableUUJ R
:UUR S
falseUUT Y
)UUY Z
,UUZ [
	PatientIdVV 
=VV 
tableVV  %
.VV% &
ColumnVV& ,
<VV, -
GuidVV- 1
>VV1 2
(VV2 3
typeVV3 7
:VV7 8
$strVV9 K
,VVK L
nullableVVM U
:VVU V
trueVVW [
)VV[ \
}WW 
,WW 
constraintsXX 
:XX 
tableXX "
=>XX# %
{YY 
tableZZ 
.ZZ 

PrimaryKeyZZ $
(ZZ$ %
$strZZ% 3
,ZZ3 4
xZZ5 6
=>ZZ7 9
xZZ: ;
.ZZ; <
IdZZ< >
)ZZ> ?
;ZZ? @
table[[ 
.[[ 

ForeignKey[[ $
([[$ %
name\\ 
:\\ 
$str\\ ?
,\\? @
column]] 
:]] 
x]]  !
=>]]" $
x]]% &
.]]& '
	PatientId]]' 0
,]]0 1
principalTable^^ &
:^^& '
$str^^( 2
,^^2 3
principalColumn__ '
:__' (
$str__) -
)__- .
;__. /
}`` 
)`` 
;`` 
migrationBuilderbb 
.bb 
CreateTablebb (
(bb( )
namecc 
:cc 
$strcc #
,cc# $
columnsdd 
:dd 
tabledd 
=>dd !
newdd" %
{ee 
Idff 
=ff 
tableff 
.ff 
Columnff %
<ff% &
Guidff& *
>ff* +
(ff+ ,
typeff, 0
:ff0 1
$strff2 D
,ffD E
nullableffF N
:ffN O
falseffP U
)ffU V
,ffV W
	PaymentIdgg 
=gg 
tablegg  %
.gg% &
Columngg& ,
<gg, -
Guidgg- 1
>gg1 2
(gg2 3
typegg3 7
:gg7 8
$strgg9 K
,ggK L
nullableggM U
:ggU V
falseggW \
)gg\ ]
,gg] ^
Locationhh 
=hh 
tablehh $
.hh$ %
Columnhh% +
<hh+ ,
stringhh, 2
>hh2 3
(hh3 4
typehh4 8
:hh8 9
$strhh: I
,hhI J
nullablehhK S
:hhS T
falsehhU Z
)hhZ [
,hh[ \
	PatientIDii 
=ii 
tableii  %
.ii% &
Columnii& ,
<ii, -
Guidii- 1
>ii1 2
(ii2 3
typeii3 7
:ii7 8
$strii9 K
,iiK L
nullableiiM U
:iiU V
falseiiW \
)ii\ ]
,ii] ^
DoctorIDjj 
=jj 
tablejj $
.jj$ %
Columnjj% +
<jj+ ,
Guidjj, 0
>jj0 1
(jj1 2
typejj2 6
:jj6 7
$strjj8 J
,jjJ K
nullablejjL T
:jjT U
falsejjV [
)jj[ \
,jj\ ]
Specializationkk "
=kk# $
tablekk% *
.kk* +
Columnkk+ 1
<kk1 2
intkk2 5
>kk5 6
(kk6 7
typekk7 ;
:kk; <
$strkk= B
,kkB C
nullablekkD L
:kkL M
falsekkN S
)kkS T
,kkT U
AppointmentTimell #
=ll$ %
tablell& +
.ll+ ,
Columnll, 2
<ll2 3
DateTimell3 ;
>ll; <
(ll< =
typell= A
:llA B
$strllC N
,llN O
nullablellP X
:llX Y
falsellZ _
)ll_ `
}mm 
,mm 
constraintsnn 
:nn 
tablenn "
=>nn# %
{oo 
tablepp 
.pp 

PrimaryKeypp $
(pp$ %
$strpp% 5
,pp5 6
xpp7 8
=>pp9 ;
xpp< =
.pp= >
Idpp> @
)pp@ A
;ppA B
tableqq 
.qq 

ForeignKeyqq $
(qq$ %
namerr 
:rr 
$strrr ?
,rr? @
columnss 
:ss 
xss  !
=>ss" $
xss% &
.ss& '
DoctorIDss' /
,ss/ 0
principalTablett &
:tt& '
$strtt( 1
,tt1 2
principalColumnuu '
:uu' (
$struu) -
,uu- .
onDeletevv  
:vv  !
ReferentialActionvv" 3
.vv3 4
Cascadevv4 ;
)vv; <
;vv< =
tableww 
.ww 

ForeignKeyww $
(ww$ %
namexx 
:xx 
$strxx A
,xxA B
columnyy 
:yy 
xyy  !
=>yy" $
xyy% &
.yy& '
	PatientIDyy' 0
,yy0 1
principalTablezz &
:zz& '
$strzz( 2
,zz2 3
principalColumn{{ '
:{{' (
$str{{) -
,{{- .
onDelete||  
:||  !
ReferentialAction||" 3
.||3 4
Cascade||4 ;
)||; <
;||< =
table}} 
.}} 

ForeignKey}} $
(}}$ %
name~~ 
:~~ 
$str~~ @
,~~@ A
column 
: 
x  !
=>" $
x% &
.& '
	PaymentId' 0
,0 1
principalTable
ÄÄ &
:
ÄÄ& '
$str
ÄÄ( 1
,
ÄÄ1 2
principalColumn
ÅÅ '
:
ÅÅ' (
$str
ÅÅ) -
,
ÅÅ- .
onDelete
ÇÇ  
:
ÇÇ  !
ReferentialAction
ÇÇ" 3
.
ÇÇ3 4
Cascade
ÇÇ4 ;
)
ÇÇ; <
;
ÇÇ< =
}
ÉÉ 
)
ÉÉ 
;
ÉÉ 
migrationBuilder
ÖÖ 
.
ÖÖ 
CreateTable
ÖÖ (
(
ÖÖ( )
name
ÜÜ 
:
ÜÜ 
$str
ÜÜ #
,
ÜÜ# $
columns
áá 
:
áá 
table
áá 
=>
áá !
new
áá" %
{
àà 
Id
ââ 
=
ââ 
table
ââ 
.
ââ 
Column
ââ %
<
ââ% &
Guid
ââ& *
>
ââ* +
(
ââ+ ,
type
ââ, 0
:
ââ0 1
$str
ââ2 D
,
ââD E
nullable
ââF N
:
ââN O
false
ââP U
)
ââU V
,
ââV W
Date
ää 
=
ää 
table
ää  
.
ää  !
Column
ää! '
<
ää' (
DateTime
ää( 0
>
ää0 1
(
ää1 2
type
ää2 6
:
ää6 7
$str
ää8 C
,
ääC D
nullable
ääE M
:
ääM N
false
ääO T
)
ääT U
,
ääU V
Description
ãã 
=
ãã  !
table
ãã" '
.
ãã' (
Column
ãã( .
<
ãã. /
string
ãã/ 5
>
ãã5 6
(
ãã6 7
type
ãã7 ;
:
ãã; <
$str
ãã= L
,
ããL M
nullable
ããN V
:
ããV W
false
ããX ]
)
ãã] ^
,
ãã^ _
DiagnosisId
åå 
=
åå  !
table
åå" '
.
åå' (
Column
åå( .
<
åå. /
Guid
åå/ 3
>
åå3 4
(
åå4 5
type
åå5 9
:
åå9 :
$str
åå; M
,
ååM N
nullable
ååO W
:
ååW X
true
ååY ]
)
åå] ^
}
çç 
,
çç 
constraints
éé 
:
éé 
table
éé "
=>
éé# %
{
èè 
table
êê 
.
êê 

PrimaryKey
êê $
(
êê$ %
$str
êê% 5
,
êê5 6
x
êê7 8
=>
êê9 ;
x
êê< =
.
êê= >
Id
êê> @
)
êê@ A
;
êêA B
table
ëë 
.
ëë 

ForeignKey
ëë $
(
ëë$ %
name
íí 
:
íí 
$str
íí D
,
ííD E
column
ìì 
:
ìì 
x
ìì  !
=>
ìì" $
x
ìì% &
.
ìì& '
DiagnosisId
ìì' 2
,
ìì2 3
principalTable
îî &
:
îî& '
$str
îî( 3
,
îî3 4
principalColumn
ïï '
:
ïï' (
$str
ïï) -
)
ïï- .
;
ïï. /
}
ññ 
)
ññ 
;
ññ 
migrationBuilder
òò 
.
òò 
CreateIndex
òò (
(
òò( )
name
ôô 
:
ôô 
$str
ôô /
,
ôô/ 0
table
öö 
:
öö 
$str
öö $
,
öö$ %
column
õõ 
:
õõ 
$str
õõ "
)
õõ" #
;
õõ# $
migrationBuilder
ùù 
.
ùù 
CreateIndex
ùù (
(
ùù( )
name
ûû 
:
ûû 
$str
ûû 0
,
ûû0 1
table
üü 
:
üü 
$str
üü $
,
üü$ %
column
†† 
:
†† 
$str
†† #
)
††# $
;
††$ %
migrationBuilder
¢¢ 
.
¢¢ 
CreateIndex
¢¢ (
(
¢¢( )
name
££ 
:
££ 
$str
££ 0
,
££0 1
table
§§ 
:
§§ 
$str
§§ $
,
§§$ %
column
•• 
:
•• 
$str
•• #
)
••# $
;
••$ %
migrationBuilder
ßß 
.
ßß 
CreateIndex
ßß (
(
ßß( )
name
®® 
:
®® 
$str
®® .
,
®®. /
table
©© 
:
©© 
$str
©© "
,
©©" #
column
™™ 
:
™™ 
$str
™™ #
)
™™# $
;
™™$ %
migrationBuilder
¨¨ 
.
¨¨ 
CreateIndex
¨¨ (
(
¨¨( )
name
≠≠ 
:
≠≠ 
$str
≠≠ 2
,
≠≠2 3
table
ÆÆ 
:
ÆÆ 
$str
ÆÆ $
,
ÆÆ$ %
column
ØØ 
:
ØØ 
$str
ØØ %
)
ØØ% &
;
ØØ& '
}
∞∞ 	
	protected
≥≥ 
override
≥≥ 
void
≥≥ 
Down
≥≥  $
(
≥≥$ %
MigrationBuilder
≥≥% 5
migrationBuilder
≥≥6 F
)
≥≥F G
{
¥¥ 	
migrationBuilder
µµ 
.
µµ 
	DropTable
µµ &
(
µµ& '
name
∂∂ 
:
∂∂ 
$str
∂∂ #
)
∂∂# $
;
∂∂$ %
migrationBuilder
∏∏ 
.
∏∏ 
	DropTable
∏∏ &
(
∏∏& '
name
ππ 
:
ππ 
$str
ππ 
)
ππ 
;
ππ 
migrationBuilder
ªª 
.
ªª 
	DropTable
ªª &
(
ªª& '
name
ºº 
:
ºº 
$str
ºº #
)
ºº# $
;
ºº$ %
migrationBuilder
ææ 
.
ææ 
	DropTable
ææ &
(
ææ& '
name
øø 
:
øø 
$str
øø 
)
øø  
;
øø  !
migrationBuilder
¡¡ 
.
¡¡ 
	DropTable
¡¡ &
(
¡¡& '
name
¬¬ 
:
¬¬ 
$str
¬¬ 
)
¬¬  
;
¬¬  !
migrationBuilder
ƒƒ 
.
ƒƒ 
	DropTable
ƒƒ &
(
ƒƒ& '
name
≈≈ 
:
≈≈ 
$str
≈≈ !
)
≈≈! "
;
≈≈" #
migrationBuilder
«« 
.
«« 
	DropTable
«« &
(
««& '
name
»» 
:
»» 
$str
»»  
)
»»  !
;
»»! "
}
…… 	
}
   
}ÀÀ ï:
qF:\Documents\faculta\MyDocAppointment\MyDocAppointment.Infrastructure\Migrations\20221206132131_AddSomeColumns.cs
	namespace 	
MyDocAppointment
 
. 
Infrastructure )
.) *

Migrations* 4
{ 
public		 

partial		 
class		 
AddSomeColumns		 '
:		( )
	Migration		* 3
{

 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
DropForeignKey +
(+ ,
name 
: 
$str 7
,7 8
table 
: 
$str "
)" #
;# $
migrationBuilder 
. 

DropColumn '
(' (
name 
: 
$str 
, 
table 
: 
$str "
)" #
;# $
migrationBuilder 
. 
	AddColumn &
<& '
string' -
>- .
(. /
name 
: 
$str #
,# $
table 
: 
$str !
,! "
type 
: 
$str %
,% &
nullable 
: 
false 
,  
defaultValue 
: 
$str  
)  !
;! "
migrationBuilder 
. 
	AddColumn &
<& '
string' -
>- .
(. /
name 
: 
$str #
,# $
table 
: 
$str !
,! "
type   
:   
$str   %
,  % &
nullable!! 
:!! 
false!! 
,!!  
defaultValue"" 
:"" 
$str""  
)""  !
;""! "
migrationBuilder$$ 
.$$ 
	AddColumn$$ &
<$$& '
string$$' -
>$$- .
($$. /
name%% 
:%% 
$str%% #
,%%# $
table&& 
:&& 
$str&&  
,&&  !
type'' 
:'' 
$str'' %
,''% &
nullable(( 
:(( 
false(( 
,((  
defaultValue)) 
:)) 
$str))  
)))  !
;))! "
migrationBuilder++ 
.++ 
	AddColumn++ &
<++& '
string++' -
>++- .
(++. /
name,, 
:,, 
$str,, #
,,,# $
table-- 
:-- 
$str--  
,--  !
type.. 
:.. 
$str.. %
,..% &
nullable// 
:// 
false// 
,//  
defaultValue00 
:00 
$str00  
)00  !
;00! "
migrationBuilder22 
.22 
AlterColumn22 (
<22( )
Guid22) -
>22- .
(22. /
name33 
:33 
$str33 !
,33! "
table44 
:44 
$str44 "
,44" #
type55 
:55 
$str55 (
,55( )
nullable66 
:66 
false66 
,66  
defaultValue77 
:77 
new77 !
Guid77" &
(77& '
$str77' M
)77M N
,77N O

oldClrType88 
:88 
typeof88 "
(88" #
Guid88# '
)88' (
,88( )
oldType99 
:99 
$str99 +
,99+ ,
oldNullable:: 
::: 
true:: !
)::! "
;::" #
migrationBuilder<< 
.<< 
AddForeignKey<< *
(<<* +
name== 
:== 
$str== 7
,==7 8
table>> 
:>> 
$str>> "
,>>" #
column?? 
:?? 
$str?? #
,??# $
principalTable@@ 
:@@ 
$str@@  *
,@@* +
principalColumnAA 
:AA  
$strAA! %
,AA% &
onDeleteBB 
:BB 
ReferentialActionBB +
.BB+ ,
CascadeBB, 3
)BB3 4
;BB4 5
}CC 	
	protectedFF 
overrideFF 
voidFF 
DownFF  $
(FF$ %
MigrationBuilderFF% 5
migrationBuilderFF6 F
)FFF G
{GG 	
migrationBuilderHH 
.HH 
DropForeignKeyHH +
(HH+ ,
nameII 
:II 
$strII 7
,II7 8
tableJJ 
:JJ 
$strJJ "
)JJ" #
;JJ# $
migrationBuilderLL 
.LL 

DropColumnLL '
(LL' (
nameMM 
:MM 
$strMM #
,MM# $
tableNN 
:NN 
$strNN !
)NN! "
;NN" #
migrationBuilderPP 
.PP 

DropColumnPP '
(PP' (
nameQQ 
:QQ 
$strQQ #
,QQ# $
tableRR 
:RR 
$strRR !
)RR! "
;RR" #
migrationBuilderTT 
.TT 

DropColumnTT '
(TT' (
nameUU 
:UU 
$strUU #
,UU# $
tableVV 
:VV 
$strVV  
)VV  !
;VV! "
migrationBuilderXX 
.XX 

DropColumnXX '
(XX' (
nameYY 
:YY 
$strYY #
,YY# $
tableZZ 
:ZZ 
$strZZ  
)ZZ  !
;ZZ! "
migrationBuilder\\ 
.\\ 
AlterColumn\\ (
<\\( )
Guid\\) -
>\\- .
(\\. /
name]] 
:]] 
$str]] !
,]]! "
table^^ 
:^^ 
$str^^ "
,^^" #
type__ 
:__ 
$str__ (
,__( )
nullable`` 
:`` 
true`` 
,`` 

oldClrTypeaa 
:aa 
typeofaa "
(aa" #
Guidaa# '
)aa' (
,aa( )
oldTypebb 
:bb 
$strbb +
)bb+ ,
;bb, -
migrationBuilderdd 
.dd 
	AddColumndd &
<dd& '
Guiddd' +
>dd+ ,
(dd, -
nameee 
:ee 
$stree 
,ee 
tableff 
:ff 
$strff "
,ff" #
typegg 
:gg 
$strgg (
,gg( )
nullablehh 
:hh 
falsehh 
,hh  
defaultValueii 
:ii 
newii !
Guidii" &
(ii& '
$strii' M
)iiM N
)iiN O
;iiO P
migrationBuilderkk 
.kk 
AddForeignKeykk *
(kk* +
namell 
:ll 
$strll 7
,ll7 8
tablemm 
:mm 
$strmm "
,mm" #
columnnn 
:nn 
$strnn #
,nn# $
principalTableoo 
:oo 
$stroo  *
,oo* +
principalColumnpp 
:pp  
$strpp! %
)pp% &
;pp& '
}qq 	
}rr 
}ss ˙H
uF:\Documents\faculta\MyDocAppointment\MyDocAppointment.Infrastructure\Migrations\20221212205434_AddAppointmentToDB.cs
	namespace 	
MyDocAppointment
 
. 
Infrastructure )
.) *

Migrations* 4
{ 
public 

partial 
class 
AddAppointmentToDB +
:, -
	Migration. 7
{		 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
DropForeignKey +
(+ ,
name 
: 
$str 7
,7 8
table 
: 
$str $
)$ %
;% &
migrationBuilder 
. 
DropForeignKey +
(+ ,
name 
: 
$str 9
,9 :
table 
: 
$str $
)$ %
;% &
migrationBuilder 
. 
DropForeignKey +
(+ ,
name 
: 
$str 8
,8 9
table 
: 
$str $
)$ %
;% &
migrationBuilder 
. 
DropPrimaryKey +
(+ ,
name 
: 
$str &
,& '
table 
: 
$str $
)$ %
;% &
migrationBuilder 
. 
RenameTable (
(( )
name 
: 
$str #
,# $
newName 
: 
$str '
)' (
;( )
migrationBuilder!! 
.!! 
RenameIndex!! (
(!!( )
name"" 
:"" 
$str"" 0
,""0 1
table## 
:## 
$str## %
,##% &
newName$$ 
:$$ 
$str$$ 4
)$$4 5
;$$5 6
migrationBuilder&& 
.&& 
RenameIndex&& (
(&&( )
name'' 
:'' 
$str'' 0
,''0 1
table(( 
:(( 
$str(( %
,((% &
newName)) 
:)) 
$str)) 4
)))4 5
;))5 6
migrationBuilder++ 
.++ 
RenameIndex++ (
(++( )
name,, 
:,, 
$str,, /
,,,/ 0
table-- 
:-- 
$str-- %
,--% &
newName.. 
:.. 
$str.. 3
)..3 4
;..4 5
migrationBuilder00 
.00 
AddPrimaryKey00 *
(00* +
name11 
:11 
$str11 '
,11' (
table22 
:22 
$str22 %
,22% &
columns33 
:33 
new33 
[33 
]33 
{33  
$str33! %
,33% &
$str33' 1
,331 2
$str333 >
}33? @
)33@ A
;33A B
migrationBuilder55 
.55 
AddForeignKey55 *
(55* +
name66 
:66 
$str66 8
,668 9
table77 
:77 
$str77 %
,77% &
column88 
:88 
$str88 "
,88" #
principalTable99 
:99 
$str99  )
,99) *
principalColumn:: 
:::  
$str::! %
,::% &
onDelete;; 
:;; 
ReferentialAction;; +
.;;+ ,
Cascade;;, 3
);;3 4
;;;4 5
migrationBuilder== 
.== 
AddForeignKey== *
(==* +
name>> 
:>> 
$str>> :
,>>: ;
table?? 
:?? 
$str?? %
,??% &
column@@ 
:@@ 
$str@@ #
,@@# $
principalTableAA 
:AA 
$strAA  *
,AA* +
principalColumnBB 
:BB  
$strBB! %
,BB% &
onDeleteCC 
:CC 
ReferentialActionCC +
.CC+ ,
CascadeCC, 3
)CC3 4
;CC4 5
migrationBuilderEE 
.EE 
AddForeignKeyEE *
(EE* +
nameFF 
:FF 
$strFF 9
,FF9 :
tableGG 
:GG 
$strGG %
,GG% &
columnHH 
:HH 
$strHH #
,HH# $
principalTableII 
:II 
$strII  )
,II) *
principalColumnJJ 
:JJ  
$strJJ! %
,JJ% &
onDeleteKK 
:KK 
ReferentialActionKK +
.KK+ ,
CascadeKK, 3
)KK3 4
;KK4 5
}LL 	
	protectedOO 
overrideOO 
voidOO 
DownOO  $
(OO$ %
MigrationBuilderOO% 5
migrationBuilderOO6 F
)OOF G
{PP 	
migrationBuilderQQ 
.QQ 
DropForeignKeyQQ +
(QQ+ ,
nameRR 
:RR 
$strRR 8
,RR8 9
tableSS 
:SS 
$strSS %
)SS% &
;SS& '
migrationBuilderUU 
.UU 
DropForeignKeyUU +
(UU+ ,
nameVV 
:VV 
$strVV :
,VV: ;
tableWW 
:WW 
$strWW %
)WW% &
;WW& '
migrationBuilderYY 
.YY 
DropForeignKeyYY +
(YY+ ,
nameZZ 
:ZZ 
$strZZ 9
,ZZ9 :
table[[ 
:[[ 
$str[[ %
)[[% &
;[[& '
migrationBuilder]] 
.]] 
DropPrimaryKey]] +
(]]+ ,
name^^ 
:^^ 
$str^^ '
,^^' (
table__ 
:__ 
$str__ %
)__% &
;__& '
migrationBuilderaa 
.aa 
RenameTableaa (
(aa( )
namebb 
:bb 
$strbb $
,bb$ %
newNamecc 
:cc 
$strcc &
)cc& '
;cc' (
migrationBuilderee 
.ee 
RenameIndexee (
(ee( )
nameff 
:ff 
$strff 1
,ff1 2
tablegg 
:gg 
$strgg $
,gg$ %
newNamehh 
:hh 
$strhh 3
)hh3 4
;hh4 5
migrationBuilderjj 
.jj 
RenameIndexjj (
(jj( )
namekk 
:kk 
$strkk 1
,kk1 2
tablell 
:ll 
$strll $
,ll$ %
newNamemm 
:mm 
$strmm 3
)mm3 4
;mm4 5
migrationBuilderoo 
.oo 
RenameIndexoo (
(oo( )
namepp 
:pp 
$strpp 0
,pp0 1
tableqq 
:qq 
$strqq $
,qq$ %
newNamerr 
:rr 
$strrr 2
)rr2 3
;rr3 4
migrationBuildertt 
.tt 
AddPrimaryKeytt *
(tt* +
nameuu 
:uu 
$struu &
,uu& '
tablevv 
:vv 
$strvv $
,vv$ %
columnww 
:ww 
$strww 
)ww 
;ww 
migrationBuilderyy 
.yy 
AddForeignKeyyy *
(yy* +
namezz 
:zz 
$strzz 7
,zz7 8
table{{ 
:{{ 
$str{{ $
,{{$ %
column|| 
:|| 
$str|| "
,||" #
principalTable}} 
:}} 
$str}}  )
,}}) *
principalColumn~~ 
:~~  
$str~~! %
,~~% &
onDelete 
: 
ReferentialAction +
.+ ,
Cascade, 3
)3 4
;4 5
migrationBuilder
ÅÅ 
.
ÅÅ 
AddForeignKey
ÅÅ *
(
ÅÅ* +
name
ÇÇ 
:
ÇÇ 
$str
ÇÇ 9
,
ÇÇ9 :
table
ÉÉ 
:
ÉÉ 
$str
ÉÉ $
,
ÉÉ$ %
column
ÑÑ 
:
ÑÑ 
$str
ÑÑ #
,
ÑÑ# $
principalTable
ÖÖ 
:
ÖÖ 
$str
ÖÖ  *
,
ÖÖ* +
principalColumn
ÜÜ 
:
ÜÜ  
$str
ÜÜ! %
,
ÜÜ% &
onDelete
áá 
:
áá 
ReferentialAction
áá +
.
áá+ ,
Cascade
áá, 3
)
áá3 4
;
áá4 5
migrationBuilder
ââ 
.
ââ 
AddForeignKey
ââ *
(
ââ* +
name
ää 
:
ää 
$str
ää 8
,
ää8 9
table
ãã 
:
ãã 
$str
ãã $
,
ãã$ %
column
åå 
:
åå 
$str
åå #
,
åå# $
principalTable
çç 
:
çç 
$str
çç  )
,
çç) *
principalColumn
éé 
:
éé  
$str
éé! %
,
éé% &
onDelete
èè 
:
èè 
ReferentialAction
èè +
.
èè+ ,
Cascade
èè, 3
)
èè3 4
;
èè4 5
}
êê 	
}
ëë 
}íí ®2
qF:\Documents\faculta\MyDocAppointment\MyDocAppointment.Infrastructure\Migrations\20221212213456_AddPaymentToDB.cs
	namespace 	
MyDocAppointment
 
. 
Infrastructure )
.) *

Migrations* 4
{ 
public 

partial 
class 
AddPaymentToDB '
:( )
	Migration* 3
{		 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
DropForeignKey +
(+ ,
name 
: 
$str 9
,9 :
table 
: 
$str %
)% &
;& '
migrationBuilder 
. 
DropPrimaryKey +
(+ ,
name 
: 
$str "
," #
table 
: 
$str  
)  !
;! "
migrationBuilder 
. 
RenameTable (
(( )
name 
: 
$str 
,  
newName 
: 
$str #
)# $
;$ %
migrationBuilder 
. 
AlterColumn (
<( )
string) /
>/ 0
(0 1
name 
: 
$str &
,& '
table 
: 
$str %
,% &
type 
: 
$str %
,% &
nullable 
: 
false 
,  

oldClrType 
: 
typeof "
(" #
int# &
)& '
,' (
oldType 
: 
$str 
) 
;  
migrationBuilder!! 
.!! 
AlterColumn!! (
<!!( )
string!!) /
>!!/ 0
(!!0 1
name"" 
:"" 
$str"" %
,""% &
table## 
:## 
$str## !
,##! "
type$$ 
:$$ 
$str$$ %
,$$% &
nullable%% 
:%% 
false%% 
,%%  

oldClrType&& 
:&& 
typeof&& "
(&&" #
int&&# &
)&&& '
,&&' (
oldType'' 
:'' 
$str'' 
)'' 
;''  
migrationBuilder)) 
.)) 
AddPrimaryKey)) *
())* +
name** 
:** 
$str** #
,**# $
table++ 
:++ 
$str++ !
,++! "
column,, 
:,, 
$str,, 
),, 
;,, 
migrationBuilder.. 
... 
AddForeignKey.. *
(..* +
name// 
:// 
$str// :
,//: ;
table00 
:00 
$str00 %
,00% &
column11 
:11 
$str11 #
,11# $
principalTable22 
:22 
$str22  *
,22* +
principalColumn33 
:33  
$str33! %
,33% &
onDelete44 
:44 
ReferentialAction44 +
.44+ ,
Cascade44, 3
)443 4
;444 5
}55 	
	protected88 
override88 
void88 
Down88  $
(88$ %
MigrationBuilder88% 5
migrationBuilder886 F
)88F G
{99 	
migrationBuilder:: 
.:: 
DropForeignKey:: +
(::+ ,
name;; 
:;; 
$str;; :
,;;: ;
table<< 
:<< 
$str<< %
)<<% &
;<<& '
migrationBuilder>> 
.>> 
DropPrimaryKey>> +
(>>+ ,
name?? 
:?? 
$str?? #
,??# $
table@@ 
:@@ 
$str@@ !
)@@! "
;@@" #
migrationBuilderBB 
.BB 
RenameTableBB (
(BB( )
nameCC 
:CC 
$strCC  
,CC  !
newNameDD 
:DD 
$strDD "
)DD" #
;DD# $
migrationBuilderFF 
.FF 
AlterColumnFF (
<FF( )
intFF) ,
>FF, -
(FF- .
nameGG 
:GG 
$strGG &
,GG& '
tableHH 
:HH 
$strHH %
,HH% &
typeII 
:II 
$strII 
,II 
nullableJJ 
:JJ 
falseJJ 
,JJ  

oldClrTypeKK 
:KK 
typeofKK "
(KK" #
stringKK# )
)KK) *
,KK* +
oldTypeLL 
:LL 
$strLL (
)LL( )
;LL) *
migrationBuilderNN 
.NN 
AlterColumnNN (
<NN( )
intNN) ,
>NN, -
(NN- .
nameOO 
:OO 
$strOO %
,OO% &
tablePP 
:PP 
$strPP  
,PP  !
typeQQ 
:QQ 
$strQQ 
,QQ 
nullableRR 
:RR 
falseRR 
,RR  

oldClrTypeSS 
:SS 
typeofSS "
(SS" #
stringSS# )
)SS) *
,SS* +
oldTypeTT 
:TT 
$strTT (
)TT( )
;TT) *
migrationBuilderVV 
.VV 
AddPrimaryKeyVV *
(VV* +
nameWW 
:WW 
$strWW "
,WW" #
tableXX 
:XX 
$strXX  
,XX  !
columnYY 
:YY 
$strYY 
)YY 
;YY 
migrationBuilder[[ 
.[[ 
AddForeignKey[[ *
([[* +
name\\ 
:\\ 
$str\\ 9
,\\9 :
table]] 
:]] 
$str]] %
,]]% &
column^^ 
:^^ 
$str^^ #
,^^# $
principalTable__ 
:__ 
$str__  )
,__) *
principalColumn`` 
:``  
$str``! %
,``% &
onDeleteaa 
:aa 
ReferentialActionaa +
.aa+ ,
Cascadeaa, 3
)aa3 4
;aa4 5
}bb 	
}cc 
}dd ‰3
uF:\Documents\faculta\MyDocAppointment\MyDocAppointment.Infrastructure\Migrations\20221219221533_AddDrugStocksTable.cs
	namespace 	
MyDocAppointment
 
. 
Infrastructure )
.) *

Migrations* 4
{ 
public		 

partial		 
class		 
AddDrugStocksTable		 +
:		, -
	Migration		. 7
{

 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
DropForeignKey +
(+ ,
name 
: 
$str :
,: ;
table 
: 
$str %
)% &
;& '
migrationBuilder 
. 
AlterColumn (
<( )
Guid) -
>- .
(. /
name 
: 
$str !
,! "
table 
: 
$str %
,% &
type 
: 
$str (
,( )
nullable 
: 
true 
, 

oldClrType 
: 
typeof "
(" #
Guid# '
)' (
,( )
oldType 
: 
$str +
)+ ,
;, -
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str "
," #
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
Guid& *
>* +
(+ ,
type, 0
:0 1
$str2 D
,D E
nullableF N
:N O
falseP U
)U V
,V W
ItemId 
= 
table "
." #
Column# )
<) *
Guid* .
>. /
(/ 0
type0 4
:4 5
$str6 H
,H I
nullableJ R
:R S
falseT Y
)Y Z
,Z [
Quantity   
=   
table   $
.  $ %
Column  % +
<  + ,
int  , /
>  / 0
(  0 1
type  1 5
:  5 6
$str  7 <
,  < =
nullable  > F
:  F G
false  H M
)  M N
,  N O
IsRestricted!!  
=!!! "
table!!# (
.!!( )
Column!!) /
<!!/ 0
bool!!0 4
>!!4 5
(!!5 6
type!!6 :
:!!: ;
$str!!< A
,!!A B
nullable!!C K
:!!K L
false!!M R
)!!R S
}"" 
,"" 
constraints## 
:## 
table## "
=>### %
{$$ 
table%% 
.%% 

PrimaryKey%% $
(%%$ %
$str%%% 4
,%%4 5
x%%6 7
=>%%8 :
x%%; <
.%%< =
Id%%= ?
)%%? @
;%%@ A
table&& 
.&& 

ForeignKey&& $
(&&$ %
name'' 
:'' 
$str'' :
,'': ;
column(( 
:(( 
x((  !
=>((" $
x((% &
.((& '
ItemId((' -
,((- .
principalTable)) &
:))& '
$str))( /
,))/ 0
principalColumn** '
:**' (
$str**) -
,**- .
onDelete++  
:++  !
ReferentialAction++" 3
.++3 4
Cascade++4 ;
)++; <
;++< =
},, 
),, 
;,, 
migrationBuilder.. 
... 
CreateIndex.. (
(..( )
name// 
:// 
$str// ,
,//, -
table00 
:00 
$str00 #
,00# $
column11 
:11 
$str11  
)11  !
;11! "
migrationBuilder33 
.33 
AddForeignKey33 *
(33* +
name44 
:44 
$str44 :
,44: ;
table55 
:55 
$str55 %
,55% &
column66 
:66 
$str66 #
,66# $
principalTable77 
:77 
$str77  *
,77* +
principalColumn88 
:88  
$str88! %
)88% &
;88& '
}99 	
	protected<< 
override<< 
void<< 
Down<<  $
(<<$ %
MigrationBuilder<<% 5
migrationBuilder<<6 F
)<<F G
{== 	
migrationBuilder>> 
.>> 
DropForeignKey>> +
(>>+ ,
name?? 
:?? 
$str?? :
,??: ;
table@@ 
:@@ 
$str@@ %
)@@% &
;@@& '
migrationBuilderBB 
.BB 
	DropTableBB &
(BB& '
nameCC 
:CC 
$strCC "
)CC" #
;CC# $
migrationBuilderEE 
.EE 
AlterColumnEE (
<EE( )
GuidEE) -
>EE- .
(EE. /
nameFF 
:FF 
$strFF !
,FF! "
tableGG 
:GG 
$strGG %
,GG% &
typeHH 
:HH 
$strHH (
,HH( )
nullableII 
:II 
falseII 
,II  
defaultValueJJ 
:JJ 
newJJ !
GuidJJ" &
(JJ& '
$strJJ' M
)JJM N
,JJN O

oldClrTypeKK 
:KK 
typeofKK "
(KK" #
GuidKK# '
)KK' (
,KK( )
oldTypeLL 
:LL 
$strLL +
,LL+ ,
oldNullableMM 
:MM 
trueMM !
)MM! "
;MM" #
migrationBuilderOO 
.OO 
AddForeignKeyOO *
(OO* +
namePP 
:PP 
$strPP :
,PP: ;
tableQQ 
:QQ 
$strQQ %
,QQ% &
columnRR 
:RR 
$strRR #
,RR# $
principalTableSS 
:SS 
$strSS  *
,SS* +
principalColumnTT 
:TT  
$strTT! %
,TT% &
onDeleteUU 
:UU 
ReferentialActionUU +
.UU+ ,
CascadeUU, 3
)UU3 4
;UU4 5
}VV 	
}WW 
}XX ú
lF:\Documents\faculta\MyDocAppointment\MyDocAppointment.Infrastructure\Repositories\AppointmentsRepository.cs
	namespace 	
MyDocAppointment
 
. 
Infrastructure )
.) *
Repositories* 6
{ 
public 

class "
AppointmentsRepository '
:( )#
IAppointmentsRepository* A
{ 
private		 
readonly		 
AppDbContext		 %
_appDbContext		& 3
;		3 4
public

 "
AppointmentsRepository

 %
(

% &
AppDbContext

& 2
appDbContext

3 ?
)

? @
{ 	
_appDbContext 
= 
appDbContext (
;( )
} 	
public 
async 
Task 
Create  
(  !
Appointment! ,
appointment- 8
)8 9
{ 	
_appDbContext 
. 
Appointments &
.& '
Add' *
(* +
appointment+ 6
)6 7
;7 8
await 
_appDbContext 
.  
SaveChangesAsync  0
(0 1
)1 2
;2 3
} 	
public 
async 
Task 
Delete  
(  !
Appointment! ,
appointment- 8
)8 9
{ 	
_appDbContext 
. 
Appointments &
.& '
Remove' -
(- .
appointment. 9
)9 :
;: ;
await 
_appDbContext 
.  
SaveChangesAsync  0
(0 1
)1 2
;2 3
} 	
public 
async 
Task 
< 
IEnumerable %
<% &
Appointment& 1
>1 2
>2 3
GetAll4 :
(: ;
); <
=>= ?
await@ E
_appDbContextF S
.S T
AppointmentsT `
.4 5
Include5 <
(< =
a= >
=>? A
aB C
.C D
DoctorD J
)J K
.4 5
Include5 <
(< =
a= >
=>? A
aB C
.C D
PatientD K
)K L
.4 5
Include5 <
(< =
a= >
=>? A
aB C
.C D
PaymentD K
)K L
.4 5
ToListAsync5 @
(@ A
)A B
;B C
public!! 
async!! 
Task!! 
<!! 
Appointment!! %
?!!% &
>!!& '
GetById!!( /
(!!/ 0
Guid!!0 4
id!!5 7
)!!7 8
{"" 	
var## 
appointment## 
=## 
await## #
_appDbContext##$ 1
.##1 2
Appointments##2 >
.$$ 
Include$$ 
($$ 
a$$ 
=>$$ 
a$$ 
.$$  
Doctor$$  &
)$$& '
.%% 
Include%% 
(%% 
a%% 
=>%% 
a%% 
.%%  
Patient%%  '
)%%' (
.&& 
Include&& 
(&& 
a&& 
=>&& 
a&& 
.&&  
Payment&&  '
)&&' (
.'' 
FirstOrDefaultAsync'' $
(''$ %
d''% &
=>''' )
d''* +
.''+ ,
Id'', .
==''/ 1
id''2 4
)''4 5
;''5 6
return)) 
appointment)) 
;)) 
}** 	
public,, 
async,, 
Task,, 
SaveChanges,, %
(,,% &
),,& '
{-- 	
await.. 
_appDbContext.. 
...  
SaveChangesAsync..  0
(..0 1
)..1 2
;..2 3
}// 	
}00 
}11 ê
gF:\Documents\faculta\MyDocAppointment\MyDocAppointment.Infrastructure\Repositories\DoctorsRepository.cs
	namespace 	
MyDocAppointment
 
. 
Infrastructure )
.) *
Repositories* 6
{ 
public 

class 
DoctorsRepository "
:# $
IDoctorsRepository% 7
{ 
private		 
readonly		 
AppDbContext		 %
_appDbContext		& 3
;		3 4
public

 
DoctorsRepository

  
(

  !
AppDbContext

! -
appDbContext

. :
)

: ;
{ 	
_appDbContext 
= 
appDbContext (
;( )
} 	
public 
async 
Task 
Create  
(  !
Doctor! '
doctor( .
). /
{ 	
_appDbContext 
. 
Doctors !
.! "
Add" %
(% &
doctor& ,
), -
;- .
await 
_appDbContext 
.  
SaveChangesAsync  0
(0 1
)1 2
;2 3
} 	
public 
async 
Task 
< 
Doctor  
>  !
AddAsync" *
(* +
Doctor+ 1
doctor2 8
)8 9
{ 	
_appDbContext 
. 
Doctors !
.! "
Add" %
(% &
doctor& ,
), -
;- .
await 
_appDbContext 
.  
SaveChangesAsync  0
(0 1
)1 2
;2 3
return 
doctor 
; 
} 	
public 
async 
Task 
Delete  
(  !
Doctor! '
doctor( .
). /
{ 	
_appDbContext 
. 
Doctors !
.! "
Remove" (
(( )
doctor) /
)/ 0
;0 1
await 
_appDbContext 
.  
SaveChangesAsync  0
(0 1
)1 2
;2 3
}   	
public"" 
async"" 
Task"" 
<"" 
IEnumerable"" %
<""% &
Doctor""& ,
>"", -
>""- .
GetAll""/ 5
(""5 6
)""6 7
=>""8 :
await""; @
_appDbContext""A N
.""N O
Doctors""O V
.""V W
ToListAsync""W b
(""b c
)""c d
;""d e
public$$ 
async$$ 
Task$$ 
<$$ 
Doctor$$  
?$$  !
>$$! "
GetById$$# *
($$* +
Guid$$+ /
id$$0 2
)$$2 3
{%% 	
var&& 
doctor&& 
=&& 
await&& 
_appDbContext&& ,
.&&, -
Doctors&&- 4
.&&4 5
FirstOrDefaultAsync&&5 H
(&&H I
d&&I J
=>&&K M
d&&N O
.&&O P
Id&&P R
==&&S U
id&&V X
)&&X Y
;&&Y Z
return(( 
doctor(( 
;(( 
})) 	
public++ 
async++ 
Task++ 
SaveChanges++ %
(++% &
)++& '
{,, 	
await-- 
_appDbContext-- 
.--  
SaveChangesAsync--  0
(--0 1
)--1 2
;--2 3
}.. 	
}// 
}00 ®
eF:\Documents\faculta\MyDocAppointment\MyDocAppointment.Infrastructure\Repositories\DrugsRepository.cs
	namespace 	
MyDocAppointment
 
. 
Infrastructure )
.) *
Repositories* 6
{ 
public 

class 
DrugsRepository  
:! "
IDrugsRepository# 3
{ 
private		 
readonly		 
AppDbContext		 %
_appDbContext		& 3
;		3 4
public

 
DrugsRepository

 
(

 
AppDbContext

 +
appDbContext

, 8
)

8 9
{ 	
_appDbContext 
= 
appDbContext (
;( )
} 	
public 
async 
Task 
Create  
(  !
Drug! %
drug& *
)* +
{ 	
_appDbContext 
. 
Drugs 
.  
Add  #
(# $
drug$ (
)( )
;) *
await 
_appDbContext 
.  
SaveChangesAsync  0
(0 1
)1 2
;2 3
} 	
public 
async 
Task 
Delete  
(  !
Drug! %
drug& *
)* +
{ 	
_appDbContext 
. 
Drugs 
.  
Remove  &
(& '
drug' +
)+ ,
;, -
await 
_appDbContext 
.  
SaveChangesAsync  0
(0 1
)1 2
;2 3
} 	
public 
async 
Task 
< 
IEnumerable %
<% &
Drug& *
>* +
>+ ,
GetAll- 3
(3 4
)4 5
=>6 8
await9 >
_appDbContext? L
.L M
DrugsM R
.R S
ToListAsyncS ^
(^ _
)_ `
;` a
public 
async 
Task 
< 
Drug 
? 
>  
GetById! (
(( )
Guid) -
id. 0
)0 1
{ 	
var 
drug 
= 
await 
_appDbContext *
.* +
Drugs+ 0
.0 1
FirstOrDefaultAsync1 D
(D E
dE F
=>G I
dJ K
.K L
IdL N
==O Q
idR T
)T U
;U V
return!! 
drug!! 
;!! 
}"" 	
public$$ 
async$$ 
Task$$ 
SaveChanges$$ %
($$% &
)$$& '
{%% 	
await&& 
_appDbContext&& 
.&&  
SaveChangesAsync&&  0
(&&0 1
)&&1 2
;&&2 3
}'' 	
}(( 
})) Ú
jF:\Documents\faculta\MyDocAppointment\MyDocAppointment.Infrastructure\Repositories\DrugStocksRepository.cs
	namespace 	
MyDocAppointment
 
. 
Infrastructure )
.) *
Repositories* 6
{ 
public 

class  
DrugStocksRepository %
:& '!
IDrugStocksRepository( =
{		 
private

 
readonly

 
AppDbContext

 %
_appDbContext

& 3
;

3 4
public  
DrugStocksRepository #
(# $
AppDbContext$ 0
appDbContext1 =
)= >
{ 	
_appDbContext 
= 
appDbContext (
;( )
} 	
public 
async 
Task 
< 
Drug 
> 
GetDrug  '
(' (
Guid( ,
drugId- 3
)3 4
{ 	
var 
drug 
= 
await 
_appDbContext *
.* +
Drugs+ 0
.0 1
FirstOrDefaultAsync1 D
(D E
dE F
=>G I
dJ K
.K L
IdL N
==O Q
drugIdR X
)X Y
;Y Z
return 
drug 
; 
} 	
public 
async 
Task 
< 
	DrugStock #
># $
AddAsync% -
(- .
	DrugStock. 7
	drugStock8 A
)A B
{ 	
_appDbContext 
. 

DrugStocks $
.$ %
Add% (
(( )
	drugStock) 2
)2 3
;3 4
await 
_appDbContext 
.  
SaveChangesAsync  0
(0 1
)1 2
;2 3
return 
	drugStock 
; 
} 	
public 
async 
Task 
< 
IEnumerable %
<% &
	DrugStock& /
>/ 0
>0 1
GetAll2 8
(8 9
)9 :
=>; =
await> C
_appDbContextD Q
.Q R

DrugStocksR \
.\ ]
Include] d
(d e
dse g
=>h j
dsk m
.m n
Itemn r
)r s
.s t
ToListAsynct 
(	 Ä
)
Ä Å
;
Å Ç
} 
} ﬁ
hF:\Documents\faculta\MyDocAppointment\MyDocAppointment.Infrastructure\Repositories\PatientsRepository.cs
	namespace 	
MyDocAppointment
 
. 
Infrastructure )
.) *
Repositories* 6
{ 
public 

class 
PatientsRepository #
:$ %
IPatientsRepository& 9
{ 
private 
readonly 
AppDbContext %
_appDbContext& 3
;3 4
public		 
PatientsRepository		 !
(		! "
AppDbContext		" .
appDbContext		/ ;
)		; <
{

 	
_appDbContext 
= 
appDbContext (
;( )
} 	
public 
async 
Task 
Create  
(  !
Patient! (
patient) 0
)0 1
{ 	
_appDbContext 
. 
Patients "
." #
Add# &
(& '
patient' .
). /
;/ 0
await 
_appDbContext 
.  
SaveChangesAsync  0
(0 1
)1 2
;2 3
} 	
public 
async 
Task 
Delete  
(  !
Patient! (
patient) 0
)0 1
{ 	
_appDbContext 
. 
Patients "
." #
Remove# )
() *
patient* 1
)1 2
;2 3
await 
_appDbContext 
.  
SaveChangesAsync  0
(0 1
)1 2
;2 3
} 	
public 
async 
Task 
< 
IEnumerable %
<% &
Patient& -
>- .
>. /
GetAll0 6
(6 7
)7 8
=>9 ;
await< A
_appDbContextB O
.O P
PatientsP X
.X Y
ToListAsyncY d
(d e
)e f
;f g
public 
async 
Task 
< 
Patient !
?! "
>" #
GetById$ +
(+ ,
Guid, 0
id1 3
)3 4
{ 	
var 
pacient 
= 
await 
_appDbContext  -
.- .
Patients. 6
.6 7
FirstOrDefaultAsync7 J
(J K
dK L
=>M O
dP Q
.Q R
IdR T
==U W
idX Z
)Z [
;[ \
return   
pacient   
;   
}!! 	
public## 
async## 
Task## 
SaveChanges## %
(##% &
)##& '
{$$ 	
await%% 
_appDbContext%% 
.%%  
SaveChangesAsync%%  0
(%%0 1
)%%1 2
;%%2 3
}&& 	
}'' 
}(( 